# 箭头函数

ES6标准新增了一种新的函数：Arrow Function（箭头函数）。

```javascript
x => x*x;
```

上面的箭头函数相当于（匿名函数）：

```javascript
function (x) {
    return x * x;
}
```

那怎么调用，就是将其赋值给变量,如：

```javascript
const pow = x => x * x;
console.log(pow(2)); // 4
```

箭头函数相当于匿名函数，并且简化了函数定义。箭头函数有两种格式，一种像上面的，只包含一个表达式，连`{ ... }`和`return`都省略掉了。还有一种可以包含多条语句，这时候就不能省略`{ ... }`和`return`

如果参数不是一个，就需要用括号`()`括起来：

```javascript
// 两个参数:
(x, y) => x * x + y * y

// 无参数:
() => 3.14

// 可变参数:
(x, y, ...rest) => {
    var i, sum = x + y;
    for (i=0; i<rest.length; i++) {
        sum += rest[i];
    }
    return sum;
}
```

如果要返回一个对象，就要注意，如果是单表达式，这么写的话会报错：

```javascript
// SyntaxError:
x => { foo: x }
```

因为和函数体的`{ ... }`有语法冲突，所以要改为：

```javascript
// ok:
x => ({ foo: x })
```

### this

箭头函数看上去是匿名函数的一种简写，但实际上，箭头函数和匿名函数有个明显的区别：箭头函数内部的`this`是词法作用域，由上下文确定。

### 便利

如，之前的排序可以：

```javascript
let arr = [10,20,1,2];
arr.sort((x,y)=>x-y);
```

